# Деплой на сервер

## Требования

- Docker и Docker Compose на сервере
- Файл `.env` с настройками (см. ниже)

## Первый запуск

1. Скопировать проект на сервер (например, `git clone`).

2. Создать `.env` в корне проекта:
   ```bash
   cp .env.example .env
   ```
   Заполнить переменные:
   - `PORT` — порт приложения (по умолчанию 3000)
   - `TELEGRAM_BOT_TOKEN` — токен бота от @BotFather
   - `TELEGRAM_CHAT_ID` — ID чата для уведомлений

3. Запустить:
   ```bash
   docker compose up -d
   ```

## Обычный запуск (две команды)

Когда проект уже на сервере и `.env` создан:

```bash
cd /path/to/pavel-maria
docker compose up -d
```

Или одной строкой:
```bash
cd /path/to/pavel-maria && docker compose up -d
```

Приложение будет:
- работать в фоне;
- перезапускаться при падении;
- перезапускаться после перезагрузки сервера.

## Полезные команды

| Действие | Команда |
|----------|---------|
| Запуск | `docker compose up -d` |
| Запуск после изменений кода | `docker compose up -d --build` |
| Просмотр логов | `docker compose logs -f` |
| Остановка | `docker compose down` |
| Перезапуск | `docker compose restart` |

## Порт

По умолчанию приложение доступно на порту 3000. Чтобы использовать порт 80:

```yaml
ports:
  - "80:3000"
```

Или задать в `.env`: `PORT=3000` (порт внутри контейнера).
